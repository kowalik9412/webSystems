<%- include('../includes/head.ejs') %>
<link rel="stylesheet" href="/styles/dashboard.css">
<link rel="stylesheet" href="/styles/profile.css" />
</head>

<body>
    <div class="container">
        <nav class="main-nav">
            <div class="brand">
                <i class="fas fa-ticket-alt"></i>
                <p>Logo</p>
            </div>
        <ul class="main-menu">
            <li>
                <a href="/">Home</a>
            </li>
            <li>
                <a href="https://github.com/kowalik9412/webSystems">Github</a>
            </li>
        </ul>
        <ul class="add-menu">
            <li>
                <a href="/user/profile">Welcome, <%= userEmail %>!</a>
            </li>
            <li>
                <a href="/authentication/logout">Logout</a>
            </li>
        </ul>
        </nav>
        <section class="user-area">
            <section class="profile-header">
                <h2>Who else signed up?</h2>
                <% if (typeof otherProfile != 'undefined' && otherProfile.length > 0) { %>
                <div class="row">
                    <% for (let otherProfiles of otherProfile){ %>
                    <div class="col-lg-4 col-md-4 col-sm-6">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title"><%= otherProfiles %></h5>
                                <a href="/user/profile/<%= otherProfiles %>" class="btn btn-outline-success">Visit Profile</a>
                            </div>
                        </div>
                    </div>
                    <% } %>
                </div>
                <% } if(typeof otherProfile == 'undefined' || otherProfile.length <= 0) { %>
                <div class="alert alert-danger alert-dismissible fade show" role="alert">
                    <strong>No data!</strong>
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <% } %>
            </section>
            <section class="profile-body">
                <h2>What you want to watch</h2>
                <% if (typeof response != 'undefined' && response.length > 0) { %>
                <div class="row">
                    <% for (let responses of response){ %>
                    <div class="col-lg-4 col-md-6 col-sm-12">
                        <div class="card">
                            <img class="card-img-top" src="<%= responses.posterUrl %>" alt="<%= responses.title %>">
                            <div class="card-body">
                                <h5 class="card-title"><%= responses.title %></h5>
                            </div>
                            <div class="card-body">
                                <a href="/user/search/<%= responses.imdbID %>" class="card-link">Get more information<i class="fas fa-external-link-alt"></i></a>
                                <a href="/user/delete/<%= responses.imdbID %>" class="btn btn-outline-danger">Remove</a>
                            </div>
                        </div>
                    </div>
                    <% } %>
                </div>
                <% } if(typeof response == 'undefined' || response.length <= 0) { %>
                <div class="alert alert-danger alert-dismissible fade show" role="alert">
                    <strong>No data!</strong>
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <% } %>
            </section>
            <section class="profile-footer">
                <h2>What others want to watch</h2>
                <% if (typeof otherUser != 'undefined' && otherUser.length > 0) { %>
                <div class="row">
                    <% for (let otherUsers of otherUser){ %>
                    <div class="col-lg-4 col-md-6 col-sm-12">
                        <div class="card">
                            <img class="card-img-top" src="<%= otherUsers.posterUrl %>" alt="<%= otherUsers.title %>">
                            <div class="card-body">
                                <h5 class="card-title"><%= otherUsers.title %></h5>
                            </div>
                            <div class="card-body">
                                <a href="/user/search/<%= otherUsers.imdbID %>" class="card-link">Get more information<i class="fas fa-external-link-alt"></i></a>
                            </div>
                        </div>
                    </div>
                    <% } %>
                </div>
                <% } if(typeof otherUser == 'undefined' || otherUser.length <= 0) { %>
                <div class="alert alert-danger alert-dismissible fade show" role="alert">
                    <strong>No data!</strong>
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <% } %>
            </section>
        </section>
    </div>

<%- include('../includes/footer.ejs') %>